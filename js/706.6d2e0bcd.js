"use strict";(self["webpackChunkvuecey"]=self["webpackChunkvuecey"]||[]).push([[706],{6839:function(o,n,e){e.r(n),e.d(n,{default:function(){return z}});var t=e(3396),i=e(7139),l=e(9242);const s={class:"booking"},a=(0,t._)("h1",{class:"container p-5"},"Booking",-1),u={class:"col-md-8"},c={class:"form-group"},r=(0,t._)("hr",null,null,-1),d={class:"input"},p={for:"std"},k=(0,t.Uk)("Start Day "),m={class:"input"},b={for:"quantity"},h=(0,t.Uk)("Quantity: "),g=["onClick"],_=(0,t._)("hr",null,null,-1);function f(o,n,e,f,y,v){const w=(0,t.up)("Navigation");return(0,t.wg)(),(0,t.iD)("div",s,[(0,t.Wm)(w),a,(0,t._)("div",u,[(0,t._)("div",c,[((0,t.wg)(!0),(0,t.iD)(t.HY,null,(0,t.Ko)(y.packs,((o,e)=>((0,t.wg)(),(0,t.iD)("div",null,[r,(0,t._)("p",null,"Hotel - "+(0,i.zw)(o.user_name),1),(0,t._)("p",null,"Room type - "+(0,i.zw)(o.room),1),(0,t._)("p",null,"Room Inclusion - "+(0,i.zw)(o.inclusion),1),(0,t._)("p",null,"Room Price (per day)- Rs."+(0,i.zw)(o.price),1),(0,t._)("div",d,[(0,t._)("label",p,[k,(0,t.wy)((0,t._)("input",{class:"input-field",type:"date",name:"std","onUpdate:modelValue":n[0]||(n[0]=o=>y.std=o)},null,512),[[l.nr,y.std]])])]),(0,t._)("div",m,[(0,t._)("label",b,[h,(0,t.wy)((0,t._)("input",{type:"number",id:"quantity",name:"quantity",min:"1",max:"15","onUpdate:modelValue":n[1]||(n[1]=o=>y.num=o)},null,512),[[l.nr,y.num]])])]),(0,t._)("p",null,"Total - Rs."+(0,i.zw)(o.price*y.num),1),(0,t._)("button",{type:"button",class:"btn btn-success",onClick:n=>v.book(o.user_name,o.room,o.price,y.std,y.num)},"Book",8,g),_])))),256))])])])}var y=e(1135),v=e(9196),w=e(2877),U=e(9881),Z={name:"BookingView",components:{Footer:U.Z,Navigation:w.Z},data(){return{id:0,std:null,num:null,pack:null,packs:[]}},created(){this.id=this.$route.params.id},mounted:function(){this.fetchPacks(),console.info("mounted, packs:",this.packs)},computed:{items:function(){return this.packs}},methods:{fetchPacks(){v.db.collection("hotel_packages").get().then((o=>{o.forEach((o=>{const n=o.data();o.id;this.pack=n.room,this.packs.push(n)}))})).catch((o=>{console.error(o)})),console.debug("fetchUser return: ",this.users)},book(o,n,e,t,i){var l=y.Z.auth().currentUser;null!=l?(v.db.collection("bookings_hotelname").doc(l.uid).update({bookings:y.Z.firestore.FieldValue.arrayUnion(o)}),v.db.collection("bookings_startdate").doc(l.uid).update({bookings:y.Z.firestore.FieldValue.arrayUnion(t)}),v.db.collection("bookings_roomtype").doc(l.uid).update({bookings:y.Z.firestore.FieldValue.arrayUnion(n)}),v.db.collection("bookings_end").doc(l.uid).update({bookings:y.Z.firestore.FieldValue.arrayUnion(i)}),v.db.collection("bookings_price").doc(l.uid).update({bookings:y.Z.firestore.FieldValue.arrayUnion(e*i)})):(confirm("Please login")&&this.$router.replace("/login"),console.log("Document successfully written!"))},check(o){console.log(o)}}},V=e(89);const F=(0,V.Z)(Z,[["render",f]]);var z=F}}]);
//# sourceMappingURL=706.6d2e0bcd.js.map