{"version":3,"file":"js/706.6d2e0bcd.js","mappings":"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","sources":["webpack://vuecey/./src/views/BookingView.vue","webpack://vuecey/./src/views/BookingView.vue?f490"],"sourcesContent":["<template>\r\n    <div class=\"booking\">\r\n      <Navigation></Navigation>\r\n      <h1 class=\"container p-5 \">Booking</h1>\r\n  \r\n      <div class=\"col-md-8\">\r\n                            <div class=\"form-group\">\r\n                             \r\n                             <!-- <h1>{{id}}</h1> -->\r\n                              \r\n                                <div v-for=\"(pack,index) in packs\">\r\n                                  <hr>\r\n                                      <p>Hotel - {{pack.user_name}}</p>\r\n                                      <p>Room type - {{pack.room}}</p>\r\n                                      <p>Room Inclusion - {{pack.inclusion}}</p>\r\n                                      <p>Room Price (per day)- Rs.{{pack.price}}</p>\r\n                                      <div class=\"input\">\r\n                                        <label for=\"std\">Start Day\r\n                                        <input \r\n                                          class=\"input-field\"\r\n                                          type=\"date\" \r\n                                          name=\"std\"\r\n                                          v-model=\"std\"/>\r\n                                          </label>\r\n                                        \r\n                                        </div>\r\n                                        <div class=\"input\">\r\n                                          <label for=\"quantity\">Quantity:\r\n                                        <input type=\"number\" id=\"quantity\" name=\"quantity\" min=\"1\" max=\"15\"  v-model=\"num\">\r\n                                      </label>\r\n                                        </div>\r\n                                        <p>Total - Rs.{{pack.price*num}}</p>\r\n                                      \r\n                                       <button type=\"button\" class=\"btn btn-success\" @click=\"book(pack.user_name,pack.room,pack.price,std,num)\">Book</button>\r\n                                    \r\n                                      <hr>\r\n                                </div>\r\n  \r\n                            </div>\r\n                          </div>\r\n      \r\n    </div>\r\n  </template>\r\n  <script>\r\n    import firebase from 'firebase';\r\n  import { db } from '../main';\r\n  \r\n  \r\n  import Navigation from '@/components/NavigationComp.vue'\r\n  import Footer from '@/components/FooterComp.vue'\r\n  \r\n  export default {\r\n  name: 'BookingView',\r\n\r\n     \r\n  components: {\r\n\r\n    Footer,\r\n    Navigation\r\n      },\r\n      data(){\r\n      return {\r\n            id: 0,\r\n            std:null,\r\n            num:null,\r\n            pack:null,\r\n            packs:[]\r\n  \r\n       \r\n              \r\n      }\r\n    },      \r\n     created() {\r\n            this.id = this.$route.params.id;\r\n        },\r\n    mounted: function() {\r\n          \r\n          this.fetchPacks();\r\n          console.info('mounted, packs:', this.packs) \r\n      },\r\n      computed: {\r\n          items: function() {\r\n              return this.packs\r\n          }\r\n      },\r\n      methods:{\r\n        fetchPacks () {\r\n  \r\n            db.collection('hotel_packages').get()\r\n                .then(snapshot => {\r\n                    snapshot.forEach( doc => {\r\n                        const pack = doc.data()\r\n                        // console.log(pack)\r\n                        var id = doc.id;\r\n                       \r\n                             \r\n                        this.pack=pack.room;\r\n                      //   user.id = doc.id\r\n                        this.packs.push(pack)\r\n                       \r\n                       \r\n                    })\r\n                })\r\n                .catch(error => {\r\n                    console.error(error)\r\n                })\r\n            console.debug('fetchUser return: ', this.users) \r\n        },\r\n        book(userid,pack,price,std,num){\r\n          \r\n          var user = firebase.auth().currentUser;\r\n          if (user != null){\r\n            \r\n           \r\n            db.collection('bookings_hotelname').doc(user.uid).update({\r\n              bookings:firebase.firestore.FieldValue.arrayUnion(userid),\r\n         \r\n            });\r\n            db.collection('bookings_startdate').doc(user.uid).update({\r\n              bookings:firebase.firestore.FieldValue.arrayUnion(std),\r\n         \r\n            });\r\n            db.collection('bookings_roomtype').doc(user.uid).update({\r\n              bookings:firebase.firestore.FieldValue.arrayUnion(pack),\r\n         \r\n            });\r\n            db.collection('bookings_end').doc(user.uid).update({\r\n              bookings:firebase.firestore.FieldValue.arrayUnion(num),\r\n         \r\n            });\r\n            db.collection('bookings_price').doc(user.uid).update({\r\n              bookings:firebase.firestore.FieldValue.arrayUnion(price*num),\r\n         \r\n            });\r\n        \r\n      }else{\r\n  \r\n                if (confirm(\"Please login\")) {\r\n                  this.$router.replace('/login');\r\n                } \r\n                console.log(\"Document successfully written!\");\r\n      \r\n      }\r\n  \r\n  \r\n        },\r\n        check(hotelid){\r\n          console.log(hotelid);\r\n        }\r\n      }\r\n  }\r\n  </script>","import { render } from \"./BookingView.vue?vue&type=template&id=283e1f5a\"\nimport script from \"./BookingView.vue?vue&type=script&lang=js\"\nexport * from \"./BookingView.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"C:\\\\Users\\\\User\\\\Documents\\\\GitHub\\\\ceylk\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"names":["class","_createElementVNode","for","_createElementBlock","_createVNode","_component_Navigation","_hoisted_2","_Fragment","_renderList","$data","pack","index","_hoisted_5","_toDisplayString","user_name","room","inclusion","price","type","name","$event","id","min","max","onClick","$options","_hoisted_12","_hoisted_13","components","Footer","Navigation","data","std","num","packs","created","this","$route","params","mounted","fetchPacks","console","info","computed","items","methods","db","get","then","snapshot","forEach","doc","push","catch","error","debug","users","book","userid","user","firebase","currentUser","uid","update","bookings","confirm","$router","replace","log","check","hotelid","__exports__","render"],"sourceRoot":""}