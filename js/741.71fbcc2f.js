"use strict";(self["webpackChunkvuecey"]=self["webpackChunkvuecey"]||[]).push([[741],{113:function(e,l,s){s.r(l),s.d(l,{default:function(){return A}});var n=s(3396),o=s(7139);const t={class:"console"},c={class:"container"},i={class:"intro h-100"},u={class:"row h-100 align-items-center"},r={class:"col-md-6 ml-3"},a=(0,n._)("h3",null,"Console",-1),d=(0,n._)("h4",null,"Analysis",-1),h=(0,n._)("br",null,null,-1),f=(0,n._)("button",{type:"button",class:"btn btn-success w-100"},[(0,n._)("a",{id:"link",href:"https://console.firebase.google.com/project/testvue-ad06c/analytics/app/web:YzQ0YjNjNTUtNWNjZC00MjI2LWI2YzQtYzY1ZThkZDgwNzlh/overview/~2F%3Ft%3D1662664689057&fpn%3D483980938866&swu%3D1&sgu%3D1&sus%3Dupgraded&cs%3Dapp.m.dashboard.overview&g%3D1"},"Visit Console")],-1),_=(0,n._)("br",null,null,-1),g=(0,n._)("br",null,null,-1),b=(0,n._)("h4",null,"Verify",-1),p={class:"col-md-8"},m={class:"form-group"},v=(0,n._)("hr",null,null,-1),w={class:"d-flex justify-content-around"},y=["onClick"],D=["onClick"],k=(0,n._)("hr",null,null,-1);function C(e,l,s,C,j,z){return(0,n.wg)(),(0,n.iD)("div",t,[(0,n._)("div",c,[(0,n._)("div",i,[(0,n._)("div",u,[(0,n._)("div",r,[a,d,h,f,_,g,b,(0,n._)("div",p,[(0,n._)("div",m,[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(e.users,((e,l)=>((0,n.wg)(),(0,n.iD)("div",null,[v,(0,n._)("p",null,(0,o.zw)(e.hotel_name)+" paid - "+(0,o.zw)(e.paid),1),(0,n._)("div",w,[(0,n._)("button",{class:"btn btn-success w-100",onClick:s=>z.changeStatus(l,e.id)},"Verify",8,y),(0,n._)("button",{class:"btn btn-danger w-100",onClick:s=>z.deleteAcc(l,e.id)},"Delete",8,D)]),k])))),256))])])])])])])])}s(1135);var j=s(9196),z={name:"AdminConsole",data:()=>({name:null,users:[]}),mounted:function(){this.fetchUsers(),console.info("mounted, users:",this.users)},computed:{items:function(){return this.users}},methods:{async fetchUsers(){await j.db.collection("hotel_profiles").get().then((e=>{e.forEach((e=>{const l=e.data();"no"==l.verify&&(this.name=l.hotel_name,l.id=e.id,this.users.push(l))}))})).catch((e=>{console.error(e)})),console.debug("fetchUser return: ",this.users)},changeStatus(e,l){j.db.collection("hotel_profiles").get().then((s=>{s.docs[e];console.log(l,e),j.db.collection("hotel_profiles").doc(l).update({verify:"yes"})})).then((function(){console.log("Document successfully written!")})).catch((e=>console.log(e.message)))},deleteAcc(e,l){j.db.collection("hotel_profiles").get().then((s=>{s.docs[e];console.log(l,e),j.db.collection("hotel_profiles").doc(l).delete()})).then((function(){confirm("Successfully rejected")&&window.location.reload(),console.log("Document successfully written!")})).catch((e=>console.log(e.message)))}}},Y=s(89);const N=(0,Y.Z)(z,[["render",C]]);var A=N}}]);
//# sourceMappingURL=741.71fbcc2f.js.map