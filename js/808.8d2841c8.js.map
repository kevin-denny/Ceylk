{"version":3,"file":"js/808.8d2841c8.js","mappings":"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","sources":["webpack://vuecey/./src/views/TouristProfile.vue","webpack://vuecey/./src/views/TouristProfile.vue?539b"],"sourcesContent":["<template>\r\n  <div class=\"touristprofile\">\r\n      <div class=\"container\">\r\n          \r\n        <div class=\"intro h-100\">\r\n            <div class=\"row h-100 align-items-center\">\r\n              <div class=\"col-md-6 ml-3\">\r\n                    <h3>Profile settings</h3>\r\n       \r\n                 \r\n\r\n            </div>\r\n          </div>\r\n\r\n                \r\n\r\n                \r\n                <p>\r\n                   Update your profile bio here\r\n                 </p>\r\n            \r\n               \r\n\r\n                  <div class=\"container\">\r\n                      <div class=\"row\">\r\n                        \r\n                        <div class=\"col-md-8\">\r\n                          <div class=\"form-group\">\r\n                            <input type=\"text\" name=\"\" v-model=\"profile.username\" placeholder=\"Username\" class=\"form-control\">\r\n                          </div>\r\n                        </div>\r\n<br>\r\n<br>\r\n                        <div class=\"col-md-8\">\r\n                          <div class=\"form-group\">\r\n                            <input type=\"text\"  v-model=\"profile.phn\" placeholder=\"Phone\" class=\"form-control\">\r\n                          </div>\r\n                        </div>\r\n\r\n<br>\r\n<br>\r\n                        <div class=\"col-md-8\">\r\n                          <div class=\"form-group\">\r\n                            <label for=\"dob\">Birthday\r\n                            <input \r\n                              class=\"input-field\"\r\n                              type=\"date\" \r\n                              name=\"dob\"\r\n                              v-model=\"profile.dob\"/>\r\n                              </label>\r\n                          </div>\r\n                        </div>\r\n                        \r\n<br>\r\n\r\n                      <div class=\"col-md-6\">\r\n                        <p>\r\n                          Add Profile Picture\r\n                        </p>\r\n                      </div>\r\n\r\n                          <div class=\"col-md-8\">\r\n                          <div class=\"form-group\">\r\n                              <input type=\"file\" @change=\"uploadImage\" class=\"form-control\">\r\n                           </div>\r\n                        </div>\r\n<br>\r\n                      \r\n\r\n<br>\r\n                        <div class=\"col-md-8\">\r\n                          <div class=\"form-group\">\r\n                              <input type=\"submit\" @click=\"updateProfile\" value=\"Update Bio\" class=\"btn btn-primary w-100\">\r\n                          </div>\r\n                        </div>\r\n<br>\r\n<br>\r\n                      </div>\r\n                  </div>\r\n\r\n\r\n        </div>\r\n            \r\n          </div>\r\n\r\n      </div>\r\n\r\n</template>\r\n\r\n<script>\r\nimport firebase from 'firebase';\r\nimport { db } from '../main';\r\nimport { st } from '../main';\r\n\r\n\r\nexport default {\r\n  name: \"TouristProfile\",\r\n\r\n\r\n  props: {\r\n    msg: String\r\n  },\r\n  data(){\r\n    return {\r\n        profile: {\r\n          username:null,\r\n          phn:null,\r\n          address:null,\r\n          dob:null,\r\n          profileUrl:null,\r\n\r\n        },\r\n            \r\n    }\r\n  },\r\n\r\n  methods:{\r\n      resetPassword(){\r\n          const auth = firebase.auth();          \r\n          auth.sendPasswordResetEmail(auth.currentUser.email).then(() =>  {\r\n               Toast.fire({\r\n                type: 'success',\r\n                title: 'Email sent'\r\n              })\r\n          }).catch((error) =>  {\r\n              console.log(error);\r\n          });\r\n      },\r\n      BioProfile(){\r\n       \r\n          var user = firebase.auth().currentUser;\r\n          \r\n          db.collection('tourist_bios').doc(user.uid).set({\r\n          user_id: user.uid,\r\n          profilepic: this.profile.profileUrl,\r\n          \r\n\r\n\r\n          \r\n        })\r\n        .then(function() {\r\n         \r\n          console.log(\"Document successfully written!\");\r\n          \r\n        })\r\n        .catch(function(error) {\r\n          console.error(\"Error writing document: \", error);\r\n        });\r\n      },\r\n      uploadImage(e){\r\n        let file = e.target.files[0];\r\n        var storageRef = st.ref('tprofile/'+ file.name);\r\n        let uploadTask  =storageRef.put(file);\r\n\r\n        uploadTask.on('state_changed', (snapshot)=> {\r\n            \r\n          }, (error) => {\r\n            console.log(error)\r\n            // Handle unsuccessful uploads\r\n          }, () => {\r\n            // Handle successful uploads on complete\r\n        \r\n            \r\n            uploadTask.snapshot.ref.getDownloadURL().then((downloadURL) => {\r\n              this.profile.profileUrl=downloadURL;\r\n               console.log(\"File available at\",downloadURL);\r\n            });\r\n          });\r\n\r\n\r\n       \r\n      },\r\n     \r\n       updateProfile(){\r\n           var user = firebase.auth().currentUser;\r\n           db.collection('tourist_bios').doc(user.uid).set({\r\n          user_id: user.uid,\r\n          profilepic: this.profile.profileUrl,\r\n  \r\n        })\r\n        .then(function() {\r\n            if (confirm(\"Successfully updated\")) {\r\n            window.location.reload();\r\n          } else {\r\n            txt = \"You pressed Cancel!\";\r\n          }\r\n          console.log(\"Document successfully written!\");\r\n          \r\n        })\r\n        .catch(function(error) {\r\n          console.error(\"Error writing document: \", error);\r\n        });\r\n\r\n           db.collection('tourist_profiles').doc(user.uid).update({\r\n              user_name: this.profile.username,\r\n              phn_no: this.profile.phn,\r\n             \r\n           });\r\n \r\n      },\r\n  }\r\n};\r\n\r\n\r\n</script>\r\n\r\n<style scoped lang=\"scss\">\r\n\r\n\r\n</style>","import { render } from \"./TouristProfile.vue?vue&type=template&id=6a461f54\"\nimport script from \"./TouristProfile.vue?vue&type=script&lang=js\"\nexport * from \"./TouristProfile.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"C:\\\\Users\\\\User\\\\Documents\\\\GitHub\\\\ceylk\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"names":["class","_createElementVNode","for","_createElementBlock","_hoisted_4","_hoisted_5","type","name","$data","username","$event","placeholder","_hoisted_10","_hoisted_11","phn","_hoisted_14","_hoisted_15","dob","_hoisted_20","_hoisted_21","onChange","$options","_hoisted_24","_hoisted_25","onClick","value","_hoisted_28","_hoisted_29","props","msg","String","data","profile","address","profileUrl","methods","resetPassword","auth","firebase","sendPasswordResetEmail","currentUser","email","then","Toast","fire","title","catch","error","console","log","BioProfile","user","db","doc","uid","set","user_id","profilepic","this","uploadImage","e","file","target","files","storageRef","st","uploadTask","put","on","snapshot","ref","getDownloadURL","downloadURL","updateProfile","confirm","window","location","reload","txt","update","user_name","phn_no","__exports__","render"],"sourceRoot":""}