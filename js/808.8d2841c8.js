"use strict";(self["webpackChunkvuecey"]=self["webpackChunkvuecey"]||[]).push([[808],{1808:function(l,e,o){o.r(e),o.d(e,{default:function(){return j}});var r=o(3396),n=o(9242);const t={class:"touristprofile"},s={class:"container"},i={class:"intro h-100"},u=(0,r._)("div",{class:"row h-100 align-items-center"},[(0,r._)("div",{class:"col-md-6 ml-3"},[(0,r._)("h3",null,"Profile settings")])],-1),a=(0,r._)("p",null," Update your profile bio here ",-1),c={class:"container"},d={class:"row"},p={class:"col-md-8"},f={class:"form-group"},m=(0,r._)("br",null,null,-1),_=(0,r._)("br",null,null,-1),h={class:"col-md-8"},v={class:"form-group"},b=(0,r._)("br",null,null,-1),g=(0,r._)("br",null,null,-1),w={class:"col-md-8"},y={class:"form-group"},U={for:"dob"},P=(0,r.Uk)("Birthday "),k=(0,r._)("br",null,null,-1),C=(0,r._)("div",{class:"col-md-6"},[(0,r._)("p",null," Add Profile Picture ")],-1),D={class:"col-md-8"},E={class:"form-group"},Z=(0,r._)("br",null,null,-1),x=(0,r._)("br",null,null,-1),B={class:"col-md-8"},I={class:"form-group"},V=(0,r._)("br",null,null,-1),R=(0,r._)("br",null,null,-1);function S(l,e,o,S,T,A){return(0,r.wg)(),(0,r.iD)("div",t,[(0,r._)("div",s,[(0,r._)("div",i,[u,a,(0,r._)("div",c,[(0,r._)("div",d,[(0,r._)("div",p,[(0,r._)("div",f,[(0,r.wy)((0,r._)("input",{type:"text",name:"","onUpdate:modelValue":e[0]||(e[0]=l=>T.profile.username=l),placeholder:"Username",class:"form-control"},null,512),[[n.nr,T.profile.username]])])]),m,_,(0,r._)("div",h,[(0,r._)("div",v,[(0,r.wy)((0,r._)("input",{type:"text","onUpdate:modelValue":e[1]||(e[1]=l=>T.profile.phn=l),placeholder:"Phone",class:"form-control"},null,512),[[n.nr,T.profile.phn]])])]),b,g,(0,r._)("div",w,[(0,r._)("div",y,[(0,r._)("label",U,[P,(0,r.wy)((0,r._)("input",{class:"input-field",type:"date",name:"dob","onUpdate:modelValue":e[2]||(e[2]=l=>T.profile.dob=l)},null,512),[[n.nr,T.profile.dob]])])])]),k,C,(0,r._)("div",D,[(0,r._)("div",E,[(0,r._)("input",{type:"file",onChange:e[3]||(e[3]=(...l)=>A.uploadImage&&A.uploadImage(...l)),class:"form-control"},null,32)])]),Z,x,(0,r._)("div",B,[(0,r._)("div",I,[(0,r._)("input",{type:"submit",onClick:e[4]||(e[4]=(...l)=>A.updateProfile&&A.updateProfile(...l)),value:"Update Bio",class:"btn btn-primary w-100"})])]),V,R])])])])])}var T=o(1135),A=o(9196),F={name:"TouristProfile",props:{msg:String},data(){return{profile:{username:null,phn:null,address:null,dob:null,profileUrl:null}}},methods:{resetPassword(){const l=T.Z.auth();l.sendPasswordResetEmail(l.currentUser.email).then((()=>{Toast.fire({type:"success",title:"Email sent"})})).catch((l=>{console.log(l)}))},BioProfile(){var l=T.Z.auth().currentUser;A.db.collection("tourist_bios").doc(l.uid).set({user_id:l.uid,profilepic:this.profile.profileUrl}).then((function(){console.log("Document successfully written!")})).catch((function(l){console.error("Error writing document: ",l)}))},uploadImage(l){let e=l.target.files[0];var o=A.st.ref("tprofile/"+e.name);let r=o.put(e);r.on("state_changed",(l=>{}),(l=>{console.log(l)}),(()=>{r.snapshot.ref.getDownloadURL().then((l=>{this.profile.profileUrl=l,console.log("File available at",l)}))}))},updateProfile(){var l=T.Z.auth().currentUser;A.db.collection("tourist_bios").doc(l.uid).set({user_id:l.uid,profilepic:this.profile.profileUrl}).then((function(){confirm("Successfully updated")?window.location.reload():txt="You pressed Cancel!",console.log("Document successfully written!")})).catch((function(l){console.error("Error writing document: ",l)})),A.db.collection("tourist_profiles").doc(l.uid).update({user_name:this.profile.username,phn_no:this.profile.phn})}}},L=o(89);const Y=(0,L.Z)(F,[["render",S]]);var j=Y}}]);
//# sourceMappingURL=808.8d2841c8.js.map